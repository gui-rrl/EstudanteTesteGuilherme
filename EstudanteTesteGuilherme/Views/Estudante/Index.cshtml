@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{

} 
    
<div>
    <h2>Estudante</h2> 
</div>

    <div class="row">

        <!-- Identificador -->
        <div class="col-md-2 col-xs-2">
            <div class="form-group">
                <label for="IdentificadorEstudante">Identificador</label>
                <input id="Identificador" required="required" type="text" value="" class="form-control" name="IdentificadorEstudante">
            </div>
        </div>

        <!-- Nome -->
        <div class="col-md-4 col-xs-4">
            <div class="form-group">
                <label for="Nome">Nome</label>
                <input id="Nome" required="required" type="text" value="" class="form-control" name="Nome">
            </div>
        </div>

        <!-- Curso -->
        <div class="col-md-2 col-xs-2">
            <div class="form-group">
                <label for="Curso">Curso</label>
                <input id="Curso" required="required" type="text" value="" class="form-control" name="Curso">
            </div>
        </div>

        <!-- Status -->
        <div class="col-md-2 col-xs-2">
            <div class="form-group">
                <label for="Status">Status</label>
                <select id="Status" class="form-control">
                    <!-- data-size="5" data-live-search="true" data-width="100%" name="statusEstudante" required-->
                    <option>Ativo</option>
                    <option>Inativo</option>
                </select>
            </div>
            </div>
        <div class="col-md-2 col-xs-2">
            <div class="form-group">
                <button onclick="Consultar()">Buscar</button>
            </div>
        </div>
        </div>
    <div>
        <br />
        <br />

        <table id="TabelaEstudante" class="display">
            <tr>
                <td>Identificador</td>
                <td>Nome</td>
                <td>Curso</td>
                <td>Status</td>
                <td>Action</td>
            </tr>
        </table>
    </div>   

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<script>

    var url = window.Location.origin;

    var tabela = $('#TabelaEstudante').DataTable({
        "ajax": {
            "url": "Estudante/Estudante_SelecionarFiltro",
            "type": "POST",
            "datasrc": "data"
        },
        "collums": [
            { "data": "Identificador" },
            { "data": "Nome" },
            { "data": "Curso" },
            { "data": "Status" },
            {
                "data": "id",
                "render": function (data) {
                    return "<a href='/Estudante/EstudanteEditar/" + data + "' class='btn btn-outline-warning'>Editar</a>"
                }
            }
        ]
    });

    function Consultar() {
        var estudante = {
            Identificador: $("#Identificador").val(),
            Nome: $("#Nome").val(),
            Curso: $("#Curso").val(),
            Numero: $("#Status").val(),
        }
        
        $.ajax({
            url: url + "/Estudante/Estudante_SelecionarFiltro" + estudante,
            async: false,
            type: 'POST',
            data: {
                filtro: estudante
            },
        })
    }









    //var url = window.location.origin;

    //var tabela = $('#TabelaEstudante').DataTable({
    //    "ajax": {
    //        "url": "Estudante/SelecionarTodos",
    //        "type": "POST",
    //        "dataSrc": "data"
    //    },
    //    "columns": [

    //        { "data": "Identificador" },
    //        { "data": "Nome" },
    //        { "data": "Curso" },
    //        { "data": "Status" },
    //        {
    //            "data": "id",
    //            "render": function (data) {
    //                return "<a href='/Estudante/EstudanteEditar/" + data + "' class='btn btn-outline-warning'>Editar</a>"
    //            }
    //        }
    //    ]
    //});

</script>